<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>System App by Zalando</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link type="image/x-icon" href="images/favico.png" rel="icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>
<body>
    <div id="wrapper">
        <div id="title">
            <label>beta</label>
            <h1>System App by Zalando</h1>
            <p>A sleek, smart and open-source IT mapping and monitoring tool by Zalando.</p>
        </div>
        <div id="topfacts">
            <div>
                <h3>Visualize</h3>
                <p>Create diagrams and maps of your infrastructure. Easy with drag'n drop objects,
                   powerful with scriptable maps.</p>
            </div>
            <div>
                <h3>Integrate</h3>
                <p>Import your existing entities and data via JSON,
                and System App will keep them in sync with your maps automatically.</p>
            </div>
            <div>
                <h3>Monitor</h3>
                <p>Bind external JSON audit data to maps and trigger events or
                   visual alerts depending on the monitored values.</p>
            </div>
        </div>
        <div id="topdemo">
            Want to see it in action? Check the <a href="http://systemapp.io/demo">online demo</a>!
        </div>
        <div id="contents">
            <h2>Installation</h2>
            <div class="panel installation">
                <p>Felling lazy? Simply download and run the <a href="https://raw.github.com/zalando/system/master/install.sh" title="Download the System App install script.">install.sh</a> file and let the magic happen.</p>
                <ul class="extramargin">
                    <li>
                        Download...<br />
                        <code>$ curl https://raw.github.com/zalando/system/master/install.sh</code>
                    </li>
                    <li>
                        Make it executable...<br />
                        <code>$ chmod +x install.sh</code>
                    </li>
                    <li>
                        Run!<br />
                        <code>$ ./install.sh</code>
                    </li>
                </ul>
                <p>
                    The script should tell you which dependencies are missing, ask if you want to
                    install them, download the latest stable source code and install required modules.
                </p>

                <h3>Installing manually</h3>

                <p>
                    If you want to install it manually, please make sure you have installed:
                </p>
                <ul>
                    <li>Node.js (0.8.x +)</li>
                    <li>MongoDB (1.8.2 +)</li>
                    <li>ImageMagick (optional to generate map thumbnails)</li>
                </ul>
                <p>
                    Download the latest source code from GitHub:
                    <br />
                    <code>$ git clone https://github.com/zalando/system.git ./</code>
                </p>

            </div>

            <h2>Configuring the server</h2>
            <div class="panel configuring">
                <p>
                    All default server configuration settings are located on the file
                    <code>server/settings.coffee</code>. If you want to override settings, please edit (or create)
                    the <code>server/settings.json</code> file with your own values. Detailed instructions are
                    available on top of the <code>server/settings.coffee</code> file.
                </p>
                <p>
                    The following <code>System.Settings</code> keys will certainly need your attention:
                </p>

                <h5>Settings.General</h5>
                <ul>
                    <li>
                        <code>appTitle</code> Sets the desired title for the app, something like "MyCompany System".
                    </li>
                    <li>
                        <code>debug</code> This should be set to false on production environments for obvious reasons.
                    </li>
                </ul>

                <h5>Settings.Database</h5>
                <ul>
                    <li>
                        <code>connString</code> MongoDB connection string. Default is host "localhost", db "systemapp".
                    </li>
                </ul>


                <h5>Settings.Web</h5>
                <ul>
                    <li>
                        <code>port</code> The port used by the Node.js server, default is 3003.
                    </li>
                    <li>
                        <code>paas</code> Set to true if you're deploying to common PaaS services. More info below.
                    </li>
                </ul>

                <h5>Deploying to PaaS</h5>
                <p>
                    The System App can be easily deployed to AppFog, OpenShift and Heroku. The only requirement is
                    that you set <code>Settings.Web.paas</code> to true.
                    In this case it will overwrite a few settings with environment variables, like:
                </p>
                <ul>
                    <li>
                        The Node.js web <code>port</code> will be automatically set.
                    </li>
                    <li>
                        If your PaaS app has a MongoDB bound to it, the <code>connString</code> will be automatically set.
                    </li>
                    <li>
                        It will use Logentries for logging if you have enabled it on your AppFog account.
                    </li>
                </ul>
                <p>
                    The <code>paas</code> setting is true by default.
                </p>
            </div>

            <h2>Running the app</h2>
            <div class="panel starting">
                <p>To start the System App server, run the server.js file using node:</p>
                <p><code>$ node server.js</code></p>
                <p>
                    This will start the app server. If you haven't touched the settings, opening
                    http://localhost:3003 on your browser should work.
                </p>

                <h3>Production vs. Debugging</h3>
                <p>
                    By default Node.js will run in "Debug mode". If you're deploying and running on production,
                    you must set the <code>NODE_ENV</code> to "production" to avoid having all the debugging statements
                    logged to the console. Putting it simple:
                </p>
                <p><code>$ NODE_ENV=production node server.js</code></p>
                <p>
                    Please note that the System App will enter debug mode automatically when it runs under
                    the <code>localhost</code> or a <code>.local</code> hostname. In debug mode, most actions
                    and procedures will be logged with details so performance might be affected.
                </p>

                <h3>Running the server forever</h3>
                <p>
                    If you want the server to run like a service (so it restarts itself in case
                    of crash / error / termination) we recommend using the <em>forever</em> module.
                    You can install it (globally) using NPM:
                </p>
                <p><code>$ sudo npm install -g forever</code></p>
                <p>
                    To start the System App using <em>forever</em>, run it under the app root folder:
                </p>
                <p><code>$ forever start -c node server.js</code></p>
            </div>

            <h2>Need help?</h2>
            <div class="panel">
                <p>
                    The app has a built-in Help section with the most common questions and answers.
                    <br />
                    The source-code documentation is also available under <code>/docs</code>.
                </p>
                <p>
                    If you have an issue or found a bug, please post it on our
                    <a href="https://github.com/zalando/system/issues" title="System App Issues on GitHub">GitHub project page</a>.
                </p>
            </div>
        </div>

        <div id="footer" class="panel">
            <img src="images/zalando.png" />
            <div>
                <strong>Zalando</strong>
                <a href="http://www.zalando.com" title="Zalando Global website">Zalando.com</a>
                <a href="http://tech.zalando.com" title="Zalando - The Most Fashionable Tech Company">Tech Blog</a>
                <a href="https://github.com/zalando" title="Zalando open-source projects at GitHub">Projects on GitHub</a>
            </div>
        </div>
    </div>
</body>
</html>